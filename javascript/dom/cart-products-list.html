<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- tailwindcss CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- axios CDN -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>장바구니 리스트</title>
  </head>
  <body>
    <div class="flex flex-col items-center mt-10">
      <h1 class="text-2xl font-bold">장바구니 리스트</h1>
      <ul id="cartList" class="list-disc list-inside">
        <li class="text-lg mt-2">예시 장바구니 요소</li>
      </ul>
    </div>
    <script>
      // TODO: 장바구니 리스트 요청하고 응답 데이터 중 상품 이름(title) 화면에 출력하기
      // 아래 요구사항을 만족하는 getCartProduct() 함수를 완성한다
      // 1. 1번 장바구니 조회(Get a single cart) API 요청
      // 2. 응답 데이터 객체에서 상품의 목록(products) 배열 데이터 추출
      // 3. forEach() 활용해서 배열 데이터를 반복, 아래 작업 수행
      // 3-1. li 요소를 생성하고, 변수에 할당
      // 3-2. li 요소에 클래스(class) "text-lg mt-2" 설정
      // 3-3. 상품의 이름(title)을 li 요소의 텍스트(textContent)로 설정
      // 3-4. 완성한 li 요소를 cartList(ul 요소)에 추가
      const DOMAIN_NAME = "https://dummyjson.com";
      const cartList = document.querySelector("ul#cartList");

      async function getCartProduct(id) {
        // 아래 코드 작성

        // 1번 요구 사항
        const config = { url: `${DOMAIN_NAME}/carts/${id}`, method: "get" };
        const response = await axios(config);

        // 2번 요구 사항
        const data = response["data"];
        const products = data["products"];

        // 3번 요구 사항
        products.forEach((product) => {
          const liEl = document.createElement("li"); // 3-1
          liEl.className = "text-lg mt-2"; // 3-2
          liEl["textContent"] = product["title"]; // 3-3
          cartList.append(liEl); // 3-4
        });
      }
      getCartProduct(1);
    </script>
  </body>
</html>
